# 2026-01-28 Memory - MayaSquare Sales Reporting Project

## Project Context
- **Customer:** MayaSquare (WordPress/WooCommerce site)
- **Goal:** Create sales revenue reports (per product, per warehouse/store)
- **Periods:** Day, Week, Month views
- **Constraint:** Read-only on WordPress source system
- **Location:** /home/abds/clawd/GLM/

## Session Summary (04:37-04:50 UTC)

### What Was Done
1. Set up GLM workspace with proper structure
2. Created PRD and implementation plan
3. Tested WooCommerce API - **BLOCKED**

### Critical Issue
❌ WooCommerce API returns 401 Unauthorized
- Consumer key lacks `orders:read` permission
- Cannot fetch orders data needed for sales reports
- Error: "Désolé, vous ne pouvez pas lister les ressources"

### Key Questions for Ayssen
1. **How to get data?** Update API permissions OR provide alternative (CSV/DB)
2. **How to identify stores?** Shipping address? Custom fields? Other?
3. **How far back?** 30 days? 90 days? All time?

### Files Created
- `/home/abds/clawd/GLM/docs/PRD.md`
- `/home/abds/clawd/GLM/docs/IMPLEMENTATION_PLAN.md`
- `/home/abds/clawd/GLM/docs/summary.md`
- `/home/abds/clawd/GLM/PROGRESS.md`
- `/home/abds/clawd/GLM/scripts/test-orders-api.sh`

### API Credentials (Known)
```
Consumer Key: ck_258879ff2895d05e1fa03a70ee2fea5592a640e4de5e58309afb701e3b921be0b30f01663
Secret: cs_80e46c4de5e58309afb701e3b921be0b30f01663 (from README)
Site: https://mayasquare.com
```

## Next Steps (When Unblocked)

### Phase 1: Data Extraction
- `fetch-orders.sh` - Pull all orders via WooCommerce API
- Parse line items (product, quantity, price)
- Extract shipping/billing data

### Phase 2: Data Processing
- `process-orders.js` - Aggregate by:
  - Product
  - Store/Warehouse
  - Time period (day/week/month)

### Phase 3: Dashboard
- HTML/JS with Chart.js
- Views: Daily, Weekly, Monthly
- Top products, Revenue by store, Product-store matrix
- Export to CSV

### Phase 4: Testing
- Validate data accuracy
- Test all report views
- Verify calculations

## Validation Plan
- At 14:00 UTC: Ask @planner or Opus to review work
- Adjust PRD if needed

## Notes
- Previous work exists in `/home/abds/mayasquare-exports/`
- Those scripts were for products, not orders
- Customer specifically needs SALES data (orders), not product catalog
